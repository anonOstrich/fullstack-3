(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,n,t){e.exports=t(38)},38:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(11),u=t.n(o),i=t(12),c=t(2),l=t(3),m=t.n(l),s="http://localhost:3001/api/persons",f=function(){return m.a.get(s).then(function(e){return e.data})},d=function(e){return m.a.post(s,e).then(function(e){return e.data})},E=function(e){return m.a.delete("".concat(s,"/").concat(e)).then(function(e){return e.data})},h=function(e){return m.a.put("".concat(s,"/").concat(e.id),e).then(function(e){return e.data})},g=function(e){var n=e.changeHandler;return r.a.createElement("div",null,"rajaa tuloksia ",r.a.createElement("input",{onChange:n}))},b=function(e){var n=e.contactInfo,t=e.filter,a=e.createDeletorForPerson;return(""===t?n:n.filter(function(e){return e.name.toLowerCase().includes(t.toLowerCase())})).map(function(e){return r.a.createElement("div",{key:e.name},"".concat(e.name," ").concat(e.number),r.a.createElement("button",{onClick:a(e)},"poista"))})},v=function(e){var n=e.nameValue,t=e.nameChangeFunction,a=e.numberValue,o=e.numberChangeFunction,u=e.submitFunction;return r.a.createElement("form",null,r.a.createElement("div",null,"nimi: ",r.a.createElement("input",{value:n,onChange:t})),r.a.createElement("div",null,"numero: ",r.a.createElement("input",{value:a,onChange:o})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",onClick:u},"lis\xe4\xe4")))},p=function(e){var n=e.notificationInfo,t=n.message,a=n.isError;if(null===t)return r.a.createElement(r.a.Fragment,null);var o={color:a?"red":"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10};return r.a.createElement("div",{style:o},t)},j=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],o=n[1],u=Object(a.useState)({message:null,isError:!1}),l=Object(c.a)(u,2),m=l[0],s=l[1];Object(a.useEffect)(function(){f().then(function(e){return o(e)})},[]);var j=Object(a.useState)(""),k=Object(c.a)(j,2),w=k[0],O=k[1],C=Object(a.useState)(""),F=Object(c.a)(C,2),S=F[0],y=F[1],H=Object(a.useState)(""),I=Object(c.a)(H,2),P=I[0],L=I[1];return r.a.createElement("div",null,r.a.createElement("h2",null,"Puhelinluettelo"),r.a.createElement(p,{notificationInfo:m}),r.a.createElement(g,{changeHandler:function(e){return L(e.target.value)}}),r.a.createElement("h3",null,"Lis\xe4\xe4 uusi"),r.a.createElement(v,{nameValue:w,nameChangeFunction:function(e){O(e.target.value)},numberValue:S,numberChangeFunction:function(e){y(e.target.value)},submitFunction:function(e){if(e.preventDefault(),t.map(function(e){return e.name}).includes(w)){if(window.confirm("Henkil\xf6 ".concat(w," on jo luettelossa, korvataanko vanha numero uudella?"))){var n=Object(i.a)({},t.find(function(e){return e.name===w}),{number:S});h(n).then(function(e){return o(t.map(function(n){return n.id!==e.id?n:e}))}).then(function(e){s({message:"P\xe4ivitettiin henkil\xf6n ".concat(w," puhelinnumero"),isError:!1})}).catch(function(e){s({message:"Henkil\xf6 ".concat(w," on jo poistettu"),isError:!0}),o(t.filter(function(e){return e.name!==w}))})}}else{var a={name:w,number:S,id:t.length+1};d(a).then(function(e){return o(t.concat(e))}),s({message:"Lis\xe4ttiin ".concat(w),isError:!1}),O(""),y("")}setTimeout(function(){s({message:null,isError:!1})},4e3)}}),r.a.createElement("h2",null,"Numerot"),r.a.createElement(b,{contactInfo:t,filter:P,createDeletorForPerson:function(e){return function(){if(window.confirm("Poistetaanko ".concat(e.name,"?"))){var n=e.id;E(n).then(function(n){s({message:"Henkil\xf6 ".concat(e.name," poistettu onnistuneesti"),isError:!1})}).catch(function(n){s({message:"Henkil\xf6 ".concat(e.name," on jo poistettu"),isError:!0})}),o(t.filter(function(e){return e.id!==n}))}setTimeout(function(){s({message:null,isError:!1})},4e3)}}}))};u.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[13,2,1]]]);
//# sourceMappingURL=main.319f1ee0.chunk.js.map